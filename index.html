<!DOCTYPE html>
<html lang="sr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ CRYPTO SIGNAL TRACKER - 100% Taƒçnost</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/chat-v2.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <meta name="description" content="Profesionalni crypto trading signali sa 100% taƒçno≈°ƒáu. Praƒáenje BTC, ETH, SOL i drugih kriptovaluta u realnom vremenu.">
    <meta name="keywords" content="crypto, bitcoin, ethereum, solana, trading, signali, analiza">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <div class="header">
            <h1>üöÄ CRYPTO SIGNAL TRACKER</h1>
            <p>üíé PROFESSIONAL SIGNAL TRACKER - Premium Analiza</p>
            <div class="status-bar">
                <div class="live-indicator">
                    <div class="pulse"></div>
                    U≈ΩIVO - Binance API
                </div>
                <div class="precision-meter">
                    <span class="precision-value" id="last-update-time">--:--:--</span>
                </div>
                <div class="debug-panel-access">
                    <button onclick="openDebugPanel()" class="debug-btn" title="Otvori Debug Panel za Monitoring">
                        üîß DEBUG PANEL
                    </button>
                </div>
            </div>
        </div>

        <!-- Currency Selector -->
        <div class="currency-selector">
            <select id="currency-select" class="currency-dropdown">
                <option value="">‚è≥ Uƒçitavam valute...</option>
            </select>
            
            <div class="selected-crypto-info">
                <div class="crypto-summary">
                    <span class="selected-name">Odaberite valutu</span>
                    <span class="selected-price">$--</span>
                    <span class="selected-change">--%</span>
                </div>
            </div>
        </div>

        <!-- Trading Guide - Minimized -->
        <div class="trading-guide minimized">
            <div class="guide-header" onclick="toggleTradingGuide()">
                <h3>üìñ KAKO TRGOVATI SIGURNO</h3>
                <span class="toggle-icon">‚ñº</span>
            </div>
            <div class="trading-rules" id="trading-rules" style="display: none;">
                <div class="rule green">
                    <span class="rule-icon">üü¢</span>
                    <span class="rule-text"><strong>KUPUJ KADA:</strong> RSI &lt; 30 + Ukupna taƒçnost &gt; 70% + üìà RAST predviƒëanje</span>
                </div>
                <div class="rule red">
                    <span class="rule-icon">üî¥</span>
                    <span class="rule-text"><strong>PRODAJ KADA:</strong> RSI &gt; 70 + Ukupna taƒçnost &gt; 70% + üìâ PAD predviƒëanje</span>
                </div>
                <div class="rule yellow">
                    <span class="rule-icon">‚ö†Ô∏è</span>
                    <span class="rule-text"><strong>ƒåEKAJ KADA:</strong> Kontradiktorna predviƒëanja ili taƒçnost &lt; 60%</span>
                </div>
            </div>
        </div>

        <!-- Predictions Panel - MOVED TO TOP FOR PRIORITY -->
        <div class="predictions-panel">
            <div class="predictions-header">
                <h2>üîÆ PREDVIƒêANJA I SIGNALI</h2>
                <div class="prediction-refresh-controls">
                    <label for="prediction-refresh-rate">üîÑ Auto-refresh:</label>
                    <select id="prediction-refresh-rate" class="refresh-rate-select">
                        <option value="15min">Svakih 15min</option>
                        <option value="30min">Svakih 30min</option>
                        <option value="1h" selected>Svaki sat</option>
                        <option value="1d">Jednom dnevno</option>
                    </select>
                </div>
            </div>
            
            <!-- Glavni Ukupni Prediction -->
            <div class="main-prediction">
                <h3>üéØ GLAVNI UKUPNI SIGNAL</h3>
                <div class="main-signal" id="main-signal">
                    <div class="signal-icon">‚è≥</div>
                    <div class="signal-text">Analiziram...</div>
                    <div class="signal-confidence">--% pouzdanost</div>
                    <div class="signal-description">Uƒçitavam ukupnu analizu svih timeframe-ova...</div>
                </div>
            </div>

            <!-- INDIVIDUAL TIMEFRAME ANALYSIS TABLE -->
            <div class="timeframe-analysis-container">
                <h3>üìä ANALIZA PO TIMEFRAME-OVIMA</h3>
                <div class="timeframe-table">
                    <div class="table-header">
                        <div class="th">Timeframe</div>
                        <div class="th">Smer</div>
                        <div class="th">Promena</div>
                        <div class="th">Pouzdanost</div>
                        <div class="th">RSI</div>
                        <div class="th">MACD</div>
                        <div class="th">BB</div>
                        <div class="th">Volume</div>
                        <div class="th">EMA</div>
                        <div class="th">Ukupno</div>
                        <div class="th">Sledeƒáe</div>
                    </div>
                    
                    <!-- Individual rows for each timeframe -->
                    <div class="table-row" id="tf-row-1m">
                        <div class="td timeframe-name">1m</div>
                        <div class="td direction-cell" id="tf-direction-1m">UƒåITAVA...</div>
                        <div class="td change-cell" id="tf-change-1m">--</div>
                        <div class="td confidence-cell" id="tf-confidence-1m">--</div>
                        <div class="td indicator-cell" id="tf-rsi-1m">--</div>
                        <div class="td indicator-cell" id="tf-macd-1m">--</div>
                        <div class="td indicator-cell" id="tf-bb-1m">--</div>
                        <div class="td indicator-cell" id="tf-volume-1m">--</div>
                        <div class="td indicator-cell" id="tf-ema-1m">--</div>
                        <div class="td total-cell" id="tf-total-1m">--/5</div>
                        <div class="td refresh-cell" id="tf-refresh-1m">--</div>
                    </div>
                    
                    <div class="table-row" id="tf-row-3m">
                        <div class="td timeframe-name">3m</div>
                        <div class="td direction-cell" id="tf-direction-3m">UƒåITAVA...</div>
                        <div class="td change-cell" id="tf-change-3m">--</div>
                        <div class="td confidence-cell" id="tf-confidence-3m">--</div>
                        <div class="td indicator-cell" id="tf-rsi-3m">--</div>
                        <div class="td indicator-cell" id="tf-macd-3m">--</div>
                        <div class="td indicator-cell" id="tf-bb-3m">--</div>
                        <div class="td indicator-cell" id="tf-volume-3m">--</div>
                        <div class="td indicator-cell" id="tf-ema-3m">--</div>
                        <div class="td total-cell" id="tf-total-3m">--/5</div>
                        <div class="td refresh-cell" id="tf-refresh-3m">--</div>
                    </div>
                    
                    <div class="table-row" id="tf-row-15m">
                        <div class="td timeframe-name">15m</div>
                        <div class="td direction-cell" id="tf-direction-15m">UƒåITAVA...</div>
                        <div class="td change-cell" id="tf-change-15m">--</div>
                        <div class="td confidence-cell" id="tf-confidence-15m">--</div>
                        <div class="td indicator-cell" id="tf-rsi-15m">--</div>
                        <div class="td indicator-cell" id="tf-macd-15m">--</div>
                        <div class="td indicator-cell" id="tf-bb-15m">--</div>
                        <div class="td indicator-cell" id="tf-volume-15m">--</div>
                        <div class="td indicator-cell" id="tf-ema-15m">--</div>
                        <div class="td total-cell" id="tf-total-15m">--/5</div>
                        <div class="td refresh-cell" id="tf-refresh-15m">--</div>
                    </div>
                    
                    <div class="table-row" id="tf-row-1h">
                        <div class="td timeframe-name">1h</div>
                        <div class="td direction-cell" id="tf-direction-1h">UƒåITAVA...</div>
                        <div class="td change-cell" id="tf-change-1h">--</div>
                        <div class="td confidence-cell" id="tf-confidence-1h">--</div>
                        <div class="td indicator-cell" id="tf-rsi-1h">--</div>
                        <div class="td indicator-cell" id="tf-macd-1h">--</div>
                        <div class="td indicator-cell" id="tf-bb-1h">--</div>
                        <div class="td indicator-cell" id="tf-volume-1h">--</div>
                        <div class="td indicator-cell" id="tf-ema-1h">--</div>
                        <div class="td total-cell" id="tf-total-1h">--/5</div>
                        <div class="td refresh-cell" id="tf-refresh-1h">--</div>
                    </div>
                    
                    <div class="table-row" id="tf-row-4h">
                        <div class="td timeframe-name">4h</div>
                        <div class="td direction-cell" id="tf-direction-4h">UƒåITAVA...</div>
                        <div class="td change-cell" id="tf-change-4h">--</div>
                        <div class="td confidence-cell" id="tf-confidence-4h">--</div>
                        <div class="td indicator-cell" id="tf-rsi-4h">--</div>
                        <div class="td indicator-cell" id="tf-macd-4h">--</div>
                        <div class="td indicator-cell" id="tf-bb-4h">--</div>
                        <div class="td indicator-cell" id="tf-volume-4h">--</div>
                        <div class="td indicator-cell" id="tf-ema-4h">--</div>
                        <div class="td total-cell" id="tf-total-4h">--/5</div>
                        <div class="td refresh-cell" id="tf-refresh-4h">--</div>
                    </div>
                    
                    <div class="table-row" id="tf-row-1d">
                        <div class="td timeframe-name">1d</div>
                        <div class="td direction-cell" id="tf-direction-1d">UƒåITAVA...</div>
                        <div class="td change-cell" id="tf-change-1d">--</div>
                        <div class="td confidence-cell" id="tf-confidence-1d">--</div>
                        <div class="td indicator-cell" id="tf-rsi-1d">--</div>
                        <div class="td indicator-cell" id="tf-macd-1d">--</div>
                        <div class="td indicator-cell" id="tf-bb-1d">--</div>
                        <div class="td indicator-cell" id="tf-volume-1d">--</div>
                        <div class="td indicator-cell" id="tf-ema-1d">--</div>
                        <div class="td total-cell" id="tf-total-1d">--/5</div>
                        <div class="td refresh-cell" id="tf-refresh-1d">--</div>
                    </div>
                    
                    <div class="table-row" id="tf-row-1w">
                        <div class="td timeframe-name">1w</div>
                        <div class="td direction-cell" id="tf-direction-1w">UƒåITAVA...</div>
                        <div class="td change-cell" id="tf-change-1w">--</div>
                        <div class="td confidence-cell" id="tf-confidence-1w">--</div>
                        <div class="td indicator-cell" id="tf-rsi-1w">--</div>
                        <div class="td indicator-cell" id="tf-macd-1w">--</div>
                        <div class="td indicator-cell" id="tf-bb-1w">--</div>
                        <div class="td indicator-cell" id="tf-volume-1w">--</div>
                        <div class="td indicator-cell" id="tf-ema-1w">--</div>
                        <div class="td total-cell" id="tf-total-1w">--/5</div>
                        <div class="td refresh-cell" id="tf-refresh-1w">--</div>
                    </div>
                    
                    <div class="table-row" id="tf-row-1M">
                        <div class="td timeframe-name">1M</div>
                        <div class="td direction-cell" id="tf-direction-1M">UƒåITAVA...</div>
                        <div class="td change-cell" id="tf-change-1M">--</div>
                        <div class="td confidence-cell" id="tf-confidence-1M">--</div>
                        <div class="td indicator-cell" id="tf-rsi-1M">--</div>
                        <div class="td indicator-cell" id="tf-macd-1M">--</div>
                        <div class="td indicator-cell" id="tf-bb-1M">--</div>
                        <div class="td indicator-cell" id="tf-volume-1M">--</div>
                        <div class="td indicator-cell" id="tf-ema-1M">--</div>
                        <div class="td total-cell" id="tf-total-1M">--/5</div>
                        <div class="td refresh-cell" id="tf-refresh-1M">--</div>
                    </div>
                    
                    <!-- SUMMARY ROW -->
                    <div class="table-row summary-row" id="tf-summary-row">
                        <div class="td summary-label"><strong>üìä UKUPNO</strong></div>
                        <div class="td summary-direction" id="summary-direction">--</div>
                        <div class="td summary-change" id="summary-change">--</div>
                        <div class="td summary-confidence" id="summary-confidence">--</div>
                        <div class="td summary-indicator" id="summary-rsi">--</div>
                        <div class="td summary-indicator" id="summary-macd">--</div>
                        <div class="td summary-indicator" id="summary-bb">--</div>
                        <div class="td summary-indicator" id="summary-volume">--</div>
                        <div class="td summary-indicator" id="summary-ema">--</div>
                        <div class="td summary-total" id="summary-total">--/45</div>
                        <div class="td summary-status" id="summary-status">--</div>
                    </div>
                </div>
            </div>
            
            <!-- Overall Accuracy -->
            <div class="overall-accuracy">
                <h3>üéØ UKUPNA TAƒåNOST SIGNALA</h3>
                <div class="accuracy-display">
                    <div class="accuracy-circle">
                        <div class="accuracy-bar">
                            <div class="accuracy-fill" id="accuracy-fill"></div>
                        </div>
                        <div class="accuracy-text">
                            <span id="accuracy-percentage">--</span>% Taƒçnost
                        </div>
                    </div>
                    <div class="signal-consensus" id="signal-consensus">UƒåITAVA...</div>
                </div>
            </div>

            <!-- Predictions Grid -->
            <div class="predictions-grid">
                <!-- All prediction cards here -->
                <div class="prediction-card">
                    <div class="prediction-timeframe">1 Minut</div>
                    <div class="prediction-value" id="pred-1m">üìä UƒåITAVA...</div>
                    <div class="prediction-confidence" id="conf-1m">-- taƒçnost</div>
                </div>
                <div class="prediction-card">
                    <div class="prediction-timeframe">3 Minuta</div>
                    <div class="prediction-value" id="pred-3m">üìä UƒåITAVA...</div>
                    <div class="prediction-confidence" id="conf-3m">-- taƒçnost</div>
                </div>
                <div class="prediction-card">
                    <div class="prediction-timeframe">15 Minuta</div>
                    <div class="prediction-value" id="pred-15m">üìä UƒåITAVA...</div>
                    <div class="prediction-confidence" id="conf-15m">-- taƒçnost</div>
                </div>
                <div class="prediction-card">
                    <div class="prediction-timeframe">1 Sat</div>
                    <div class="prediction-value" id="pred-1h">üìä UƒåITAVA...</div>
                    <div class="prediction-confidence" id="conf-1h">-- taƒçnost</div>
                </div>
                <div class="prediction-card">
                    <div class="prediction-timeframe">4 Sata</div>
                    <div class="prediction-value" id="pred-4h">üìä UƒåITAVA...</div>
                    <div class="prediction-confidence" id="conf-4h">-- taƒçnost</div>
                </div>
                <div class="prediction-card">
                    <div class="prediction-timeframe">6 Sati</div>
                    <div class="prediction-value" id="pred-6h">üìä UƒåITAVA...</div>
                    <div class="prediction-confidence" id="conf-6h">-- taƒçnost</div>
                </div>
                <div class="prediction-card">
                    <div class="prediction-timeframe">12 Sati</div>
                    <div class="prediction-value" id="pred-12h">üìä UƒåITAVA...</div>
                    <div class="prediction-confidence" id="conf-12h">-- taƒçnost</div>
                </div>
                <div class="prediction-card">
                    <div class="prediction-timeframe">1 Dan</div>
                    <div class="prediction-value" id="pred-1d">üìä UƒåITAVA...</div>
                    <div class="prediction-confidence" id="conf-1d">-- taƒçnost</div>
                </div>
                <div class="prediction-card">
                    <div class="prediction-timeframe">1 Sedmica</div>
                    <div class="prediction-value" id="pred-1w">üìä UƒåITAVA...</div>
                    <div class="prediction-confidence" id="conf-1w">-- taƒçnost</div>
                </div>
                <div class="prediction-card">
                    <div class="prediction-timeframe">1 Mjesec</div>
                    <div class="prediction-value" id="pred-1M">üìä UƒåITAVA...</div>
                    <div class="prediction-confidence" id="conf-1M">-- taƒçnost</div>
                </div>
            </div>
        </div>

        <!-- Toggle Button -->
        <div style="text-align: center; margin-bottom: 20px;">
            <button id="toggle-grid" class="tf-btn">üëÅÔ∏è PRIKA≈ΩI SVE VALUTE</button>
        </div>

        <!-- Crypto Grid -->
        <div class="crypto-grid" id="crypto-grid">
            <!-- Dynamic crypto cards will be inserted here -->
        </div>

        <!-- Main Dashboard -->
        <div class="main-dashboard">
            <!-- Timeframe Selector -->
            <div class="timeframe-selector">
                <button class="tf-btn active" data-tf="1m">1M</button>
                <button class="tf-btn" data-tf="5m">5M</button>
                <button class="tf-btn" data-tf="15m">15M</button>
                <button class="tf-btn" data-tf="1h">1H</button>
                <button class="tf-btn" data-tf="4h">4H</button>
                <button class="tf-btn" data-tf="1d">1D</button>
            </div>

            <!-- Technical Analysis Grid -->
            <div class="analysis-grid">
                <!-- RSI Card -->
                <div class="indicator-card rsi-card">
                    <div class="indicator-header">
                        <h3>üìä RSI (Relative Strength Index)</h3>
                        <div class="indicator-value" id="rsi-value">--</div>
                    </div>
                    <div class="indicator-progress">
                        <div class="progress-bar">
                            <div class="progress-fill rsi-fill" id="rsi-fill"></div>
                        </div>
                    </div>
                    <div class="indicator-signal" id="rsi-signal">UƒåITAVA...</div>
                    <div class="indicator-description">
                        Meri prekkupljenost/preprodanost. Ispod 30 = kupuj, iznad 70 = prodaj
                    </div>
                </div>

                <!-- MACD Card -->
                <div class="indicator-card macd-card">
                    <div class="indicator-header">
                        <h3>üåä MACD (Convergence Divergence)</h3>
                        <div class="indicator-value" id="macd-value">--</div>
                    </div>
                    <div class="indicator-signal" id="macd-signal">UƒåITAVA...</div>
                    <div class="indicator-description">
                        Prati momentum i crossover signale. Pozitivan = bullish trend
                    </div>
                </div>

                <!-- Bollinger Bands Card -->
                <div class="indicator-card bb-card">
                    <div class="indicator-header">
                        <h3>üìà Bollinger Bands</h3>
                        <div class="indicator-value" id="bb-value">--</div>
                    </div>
                    <div class="indicator-signal" id="bb-signal">UƒåITAVA...</div>
                    <div class="indicator-description">
                        Volatilnost bands. Cijena na donjem bandu = kupuj, na gornjem = prodaj
                    </div>
                </div>

                <!-- Volume Card -->
                <div class="indicator-card volume-card">
                    <div class="indicator-header">
                        <h3>üìä Volume Analysis</h3>
                        <div class="indicator-value" id="volume-value">--</div>
                    </div>
                    <div class="indicator-signal" id="volume-signal">UƒåITAVA...</div>
                    <div class="indicator-description">
                        Analizira trading volumen. Visok volumen potvrƒëuje trend
                    </div>
                </div>

                <!-- Stochastic RSI Card -->
                <div class="indicator-card stoch-card">
                    <div class="indicator-header">
                        <h3>‚ö° Stochastic RSI</h3>
                        <div class="indicator-value" id="stoch-value">--</div>
                    </div>
                    <div class="indicator-signal" id="stoch-signal">UƒåITAVA...</div>
                    <div class="indicator-description">
                        Kombinuje stochastic i RSI. Ispod 20 = oversold, iznad 80 = overbought
                    </div>
                </div>

                <!-- EMA Card -->
                <div class="indicator-card ema-card">
                    <div class="indicator-header">
                        <h3>üìâ EMA (20/50)</h3>
                        <div class="indicator-value" id="ema-value">--</div>
                    </div>
                    <div class="indicator-signal" id="ema-signal">UƒåITAVA...</div>
                    <div class="indicator-description">
                        Eksponencijalni moving average. EMA20 > EMA50 = bullish signal
                    </div>
                </div>
            </div>
        </div>

        <!-- Chart and Predictions Section -->
        <div class="chart-predictions-container">
            <!-- Chart Container -->
            <div class="chart-container">
                <canvas id="price-chart"></canvas>
            </div>
        </div>

        <!-- Multi-Timeframe Analysis -->
        <div class="multi-timeframe-section">
            <h2>‚è∞ MULTI-TIMEFRAME ANALIZA</h2>
            <div class="timeframe-grid" id="timeframe-grid">
                <!-- Dynamic timeframe panels will be inserted here -->
            </div>
        </div>
    </div>

    <!-- New Advanced Chat System will be injected here -->

    <!-- Load JavaScript -->
    <script src="js/ml-accuracy-enhancer.js"></script>
    <script src="js/system-health.js"></script>
    <script src="js/debug-panel.js"></script>
    <script src="js/script.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/chat-v2.js"></script>

    <script>
        // Toggle Trading Guide funkcija
        function toggleTradingGuide() {
            const rules = document.getElementById('trading-rules');
            const icon = document.querySelector('.toggle-icon');
            
            if (rules.style.display === 'none') {
                rules.style.display = 'block';
                icon.textContent = '‚ñ≤';
            } else {
                rules.style.display = 'none';
                icon.textContent = '‚ñº';
            }
        }

        // Initialize systems when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ Pokretam Crypto Trader sisteme...');
            
            // Initialize dashboard first
            if (typeof TradingDashboard !== 'undefined') {
                window.dashboard = new TradingDashboard();
                console.log('‚úÖ Trading Dashboard pokrenut!');
            }
            
            // Auth and chat systems are auto-initialized
            console.log('‚úÖ Svi sistemi pokretani!');
        });
    </script>
</body>
</html>
