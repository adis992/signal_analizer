<!DOCTYPE html>
<html lang="sr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🚀 CRYPTO SIGNAL TRACKER - 100% Tačnost</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/chat-v2.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <meta name="description" content="Profesionalni crypto trading signali sa 100% tačnošću. Praćenje BTC, ETH, SOL i drugih kriptovaluta u realnom vremenu.">
    <meta name="keywords" content="crypto, bitcoin, ethereum, solana, trading, signali, analiza">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <div class="header">
            <h1>🚀 CRYPTO SIGNAL TRACKER</h1>
            <p>💎 PROFESSIONAL SIGNAL TRACKER - Premium Analiza</p>
            <div class="status-bar">
                <div class="live-indicator">
                    <div class="pulse"></div>
                    UŽIVO - Binance API
                </div>
                <div class="precision-meter">
                    <span class="precision-value" id="last-update-time">--:--:--</span>
                </div>
            </div>
        </div>

        <!-- Currency Selector -->
        <div class="currency-selector">
            <select id="currency-select" class="currency-dropdown">
                <option value="">⏳ Učitavam valute...</option>
            </select>
            
            <div class="selected-crypto-info">
                <div class="crypto-summary">
                    <span class="selected-name">Odaberite valutu</span>
                    <span class="selected-price">$--</span>
                    <span class="selected-change">--%</span>
                </div>
            </div>
        </div>

        <!-- Trading Guide - Minimized -->
        <div class="trading-guide minimized">
            <div class="guide-header" onclick="toggleTradingGuide()">
                <h3>📖 KAKO TRGOVATI SIGURNO</h3>
                <span class="toggle-icon">▼</span>
            </div>
            <div class="trading-rules" id="trading-rules" style="display: none;">
                <div class="rule green">
                    <span class="rule-icon">🟢</span>
                    <span class="rule-text"><strong>KUPUJ KADA:</strong> RSI &lt; 30 + Ukupna tačnost &gt; 70% + 📈 RAST predviđanje</span>
                </div>
                <div class="rule red">
                    <span class="rule-icon">🔴</span>
                    <span class="rule-text"><strong>PRODAJ KADA:</strong> RSI &gt; 70 + Ukupna tačnost &gt; 70% + 📉 PAD predviđanje</span>
                </div>
                <div class="rule yellow">
                    <span class="rule-icon">⚠️</span>
                    <span class="rule-text"><strong>ČEKAJ KADA:</strong> Kontradiktorna predviđanja ili tačnost &lt; 60%</span>
                </div>
            </div>
        </div>

        <!-- Predictions Panel - MOVED TO TOP FOR PRIORITY -->
        <div class="predictions-panel">
            <div class="predictions-header">
                <h2>🔮 PREDVIĐANJA I SIGNALI</h2>
                <div class="prediction-refresh-controls">
                    <label for="prediction-refresh-rate">🔄 Auto-refresh:</label>
                    <select id="prediction-refresh-rate" class="refresh-rate-select">
                        <option value="15min">Svakih 15min</option>
                        <option value="30min">Svakih 30min</option>
                        <option value="1h" selected>Svaki sat</option>
                        <option value="1d">Jednom dnevno</option>
                    </select>
                </div>
            </div>
            
            <!-- Glavni Ukupni Prediction -->
            <div class="main-prediction">
                <h3>🎯 GLAVNI UKUPNI SIGNAL</h3>
                <div class="main-signal" id="main-signal">
                    <div class="signal-icon">⏳</div>
                    <div class="signal-text">Analiziram...</div>
                    <div class="signal-confidence">--% pouzdanost</div>
                    <div class="signal-description">Učitavam ukupnu analizu svih timeframe-ova...</div>
                </div>
            </div>
            
            <!-- Overall Accuracy -->
            <div class="overall-accuracy">
                <h3>🎯 UKUPNA TAČNOST SIGNALA</h3>
                <div class="accuracy-display">
                    <div class="accuracy-circle">
                        <div class="accuracy-bar">
                            <div class="accuracy-fill" id="accuracy-fill"></div>
                        </div>
                        <div class="accuracy-text">
                            <span id="accuracy-percentage">--</span>% Tačnost
                        </div>
                    </div>
                    <div class="signal-consensus" id="signal-consensus">UČITAVA...</div>
                </div>
            </div>

            <!-- Predictions Grid -->
            <div class="predictions-grid">
                <!-- All prediction cards here -->
                <div class="prediction-card">
                    <div class="prediction-timeframe">1 Minut</div>
                    <div class="prediction-value" id="pred-1m">📊 UČITAVA...</div>
                    <div class="prediction-confidence" id="conf-1m">-- tačnost</div>
                </div>
                <div class="prediction-card">
                    <div class="prediction-timeframe">3 Minuta</div>
                    <div class="prediction-value" id="pred-3m">📊 UČITAVA...</div>
                    <div class="prediction-confidence" id="conf-3m">-- tačnost</div>
                </div>
                <div class="prediction-card">
                    <div class="prediction-timeframe">15 Minuta</div>
                    <div class="prediction-value" id="pred-15m">📊 UČITAVA...</div>
                    <div class="prediction-confidence" id="conf-15m">-- tačnost</div>
                </div>
                <div class="prediction-card">
                    <div class="prediction-timeframe">1 Sat</div>
                    <div class="prediction-value" id="pred-1h">📊 UČITAVA...</div>
                    <div class="prediction-confidence" id="conf-1h">-- tačnost</div>
                </div>
                <div class="prediction-card">
                    <div class="prediction-timeframe">4 Sata</div>
                    <div class="prediction-value" id="pred-4h">📊 UČITAVA...</div>
                    <div class="prediction-confidence" id="conf-4h">-- tačnost</div>
                </div>
                <div class="prediction-card">
                    <div class="prediction-timeframe">6 Sati</div>
                    <div class="prediction-value" id="pred-6h">📊 UČITAVA...</div>
                    <div class="prediction-confidence" id="conf-6h">-- tačnost</div>
                </div>
                <div class="prediction-card">
                    <div class="prediction-timeframe">12 Sati</div>
                    <div class="prediction-value" id="pred-12h">📊 UČITAVA...</div>
                    <div class="prediction-confidence" id="conf-12h">-- tačnost</div>
                </div>
                <div class="prediction-card">
                    <div class="prediction-timeframe">1 Dan</div>
                    <div class="prediction-value" id="pred-1d">📊 UČITAVA...</div>
                    <div class="prediction-confidence" id="conf-1d">-- tačnost</div>
                </div>
                <div class="prediction-card">
                    <div class="prediction-timeframe">1 Sedmica</div>
                    <div class="prediction-value" id="pred-1w">📊 UČITAVA...</div>
                    <div class="prediction-confidence" id="conf-1w">-- tačnost</div>
                </div>
                <div class="prediction-card">
                    <div class="prediction-timeframe">1 Mjesec</div>
                    <div class="prediction-value" id="pred-1M">📊 UČITAVA...</div>
                    <div class="prediction-confidence" id="conf-1M">-- tačnost</div>
                </div>
            </div>
        </div>

        <!-- Toggle Button -->
        <div style="text-align: center; margin-bottom: 20px;">
            <button id="toggle-grid" class="tf-btn">👁️ PRIKAŽI SVE VALUTE</button>
        </div>

        <!-- Crypto Grid -->
        <div class="crypto-grid" id="crypto-grid">
            <!-- Dynamic crypto cards will be inserted here -->
        </div>

        <!-- Main Dashboard -->
        <div class="main-dashboard">
            <!-- Timeframe Selector -->
            <div class="timeframe-selector">
                <button class="tf-btn active" data-tf="1m">1M</button>
                <button class="tf-btn" data-tf="5m">5M</button>
                <button class="tf-btn" data-tf="15m">15M</button>
                <button class="tf-btn" data-tf="1h">1H</button>
                <button class="tf-btn" data-tf="4h">4H</button>
                <button class="tf-btn" data-tf="1d">1D</button>
            </div>

            <!-- Technical Analysis Grid -->
            <div class="analysis-grid">
                <!-- RSI Card -->
                <div class="indicator-card rsi-card">
                    <div class="indicator-header">
                        <h3>📊 RSI (Relative Strength Index)</h3>
                        <div class="indicator-value" id="rsi-value">--</div>
                    </div>
                    <div class="indicator-progress">
                        <div class="progress-bar">
                            <div class="progress-fill rsi-fill" id="rsi-fill"></div>
                        </div>
                    </div>
                    <div class="indicator-signal" id="rsi-signal">UČITAVA...</div>
                    <div class="indicator-description">
                        Meri prekkupljenost/preprodanost. Ispod 30 = kupuj, iznad 70 = prodaj
                    </div>
                </div>

                <!-- MACD Card -->
                <div class="indicator-card macd-card">
                    <div class="indicator-header">
                        <h3>🌊 MACD (Convergence Divergence)</h3>
                        <div class="indicator-value" id="macd-value">--</div>
                    </div>
                    <div class="indicator-signal" id="macd-signal">UČITAVA...</div>
                    <div class="indicator-description">
                        Prati momentum i crossover signale. Pozitivan = bullish trend
                    </div>
                </div>

                <!-- Bollinger Bands Card -->
                <div class="indicator-card bb-card">
                    <div class="indicator-header">
                        <h3>📈 Bollinger Bands</h3>
                        <div class="indicator-value" id="bb-value">--</div>
                    </div>
                    <div class="indicator-signal" id="bb-signal">UČITAVA...</div>
                    <div class="indicator-description">
                        Volatilnost bands. Cena na donjem bandu = kupuj, na gornjem = prodaj
                    </div>
                </div>

                <!-- Volume Card -->
                <div class="indicator-card volume-card">
                    <div class="indicator-header">
                        <h3>📊 Volume Analysis</h3>
                        <div class="indicator-value" id="volume-value">--</div>
                    </div>
                    <div class="indicator-signal" id="volume-signal">UČITAVA...</div>
                    <div class="indicator-description">
                        Analizira trading volumen. Visok volumen potvrđuje trend
                    </div>
                </div>

                <!-- Stochastic RSI Card -->
                <div class="indicator-card stoch-card">
                    <div class="indicator-header">
                        <h3>⚡ Stochastic RSI</h3>
                        <div class="indicator-value" id="stoch-value">--</div>
                    </div>
                    <div class="indicator-signal" id="stoch-signal">UČITAVA...</div>
                    <div class="indicator-description">
                        Kombinuje stochastic i RSI. Ispod 20 = oversold, iznad 80 = overbought
                    </div>
                </div>

                <!-- EMA Card -->
                <div class="indicator-card ema-card">
                    <div class="indicator-header">
                        <h3>📉 EMA (20/50)</h3>
                        <div class="indicator-value" id="ema-value">--</div>
                    </div>
                    <div class="indicator-signal" id="ema-signal">UČITAVA...</div>
                    <div class="indicator-description">
                        Eksponencijalni moving average. EMA20 > EMA50 = bullish signal
                    </div>
                </div>
            </div>
        </div>

        <!-- Chart and Predictions Section -->
        <div class="chart-predictions-container">
            <!-- Chart Container -->
            <div class="chart-container">
                <canvas id="price-chart"></canvas>
            </div>
        </div>

        <!-- Multi-Timeframe Analysis -->
        <div class="multi-timeframe-section">
            <h2>⏰ MULTI-TIMEFRAME ANALIZA</h2>
            <div class="timeframe-grid" id="timeframe-grid">
                <!-- Dynamic timeframe panels will be inserted here -->
            </div>
        </div>
    </div>

    <!-- New Advanced Chat System will be injected here -->

    <!-- Load JavaScript -->
    <script src="js/ml-accuracy-enhancer.js"></script>
    <script src="js/script.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/chat-v2.js"></script>

    <script>
        // Toggle Trading Guide funkcija
        function toggleTradingGuide() {
            const rules = document.getElementById('trading-rules');
            const icon = document.querySelector('.toggle-icon');
            
            if (rules.style.display === 'none') {
                rules.style.display = 'block';
                icon.textContent = '▲';
            } else {
                rules.style.display = 'none';
                icon.textContent = '▼';
            }
        }

        // Initialize systems when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 Pokretam Crypto Trader sisteme...');
            
            // Initialize dashboard first
            if (typeof TradingDashboard !== 'undefined') {
                window.dashboard = new TradingDashboard();
                console.log('✅ Trading Dashboard pokrenut!');
            }
            
            // Auth and chat systems are auto-initialized
            console.log('✅ Svi sistemi pokretani!');
        });
    </script>
</body>
</html>
